import java.io.*;
public class Test{
	public static void main(String[] args) throws Exception {
		FileCopy fc = new FileCopy("e:\\4简单查询.flv","e:\\copy.flv");
		fc.copy();
		fc.close();
	}
}
class FileCopy{
//	private Reader reader;
//	private Writer writer;
	private InputStream reader;                  //拷贝视频、图片等类型时，字符流就是字节流+编码表，若用字符流去复制会默认将图片的
	private OutputStream writer;		     //字节码格式进行编码，  所以会导致复制后文件与源文件不一致。
	private File fromFile ;
	private File toFile;
	public FileCopy(String fromPath,String toPath) throws Exception{
		fromFile = new File(fromPath);
		toFile = new File(toPath);
		if(!fromFile.exists()){
			if(!fromFile.getParentFile().exists())
				fromFile.mkdirs();
			fromFile.createNewFile();
		}
		if(!toFile.exists()){
			if(!toFile.getParentFile().exists())
				toFile.mkdirs();
			toFile.createNewFile();
		}
//		reader = new FileReader(fromFile);
//		writer = new FileWriter(toFile);
		reader = new FileInputStream(fromFile);
		writer = new FileOutputStream(toFile);
	}
	public void copy() throws Exception{
		byte[] buf = new byte[100];     //拷贝大文件时若定义数组大小为文件大小会出现outofmemoryerror
		int len;
		while((len=reader.read(buf))!=-1){
			writer.write(buf);
		}
//		while((len = reader.read(buf)) !=-1){
////			len=reader.read(buf);
//			String result = new String(buf);
//			writer.write(result);
//		}
//		String result = new String(buf);
//		writer.write(result);
	}
	public void close() throws IOException{
		reader.close();
		writer.close();
	}
}
